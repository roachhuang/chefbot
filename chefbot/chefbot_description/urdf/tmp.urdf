<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from kbot                           | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from kbot.xacro                     | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="kbot">
  <!-- 
  These properties must be observed by any machine
  that wants to be defined as a turtlebot. Refer
  to the REP for more details.    
  http://www.ros.org/reps/rep-0119.html     
  
 ======================================================================
  REP 119 : Rgb camera link relative to the Base link 
 ====================================================================== 
   Base link is currently defined as the rotational centre on the bottom
   of the base mould. For both create and kobuki this is actually exactly
   the same 3d world point. 
   
   This may cause an issue with a base with much different floor clearance.
   Should we be using base_footprint for this specification instead?
   Note: REP needs to be updated with the information below 
   (currently in development and awaiting feedback)

   This urdf is referred to:
   https://navigation.ros.org/setup_guides/urdf/setup_urdf.html
-->
  <material name="green">
    <color rgba="0.0 1.0 0.0 1.0"/>
  </material>
  <material name="dark green">
    <color rgba="0 86 69 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="black">
    <color rgba="0 0 0 1"/>
  </material>
  <material name="white">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="blue">
    <color rgba="0 0 0.8 1"/>
  </material>
  <material name="gold">
    <color rgba="0.854901960784 0.647058823529 0.125490196078 1.0"/>
  </material>
  <!--    
    <xacro:macro name="joint_wheel" params="name child parent origin_xyz">
        <joint name="${name}" type="continuous">
            <origin rpy="0 0 0" xyz="${origin_xyz}" />
            <child link="${child}" />
            <parent link="${parent}" />
            <axis rpy="0 0 0" xyz="0 1 0" />
            <limit effort="100" velocity="100" />
            <joint_properties damping="0.0" friction="0.0" />
        </joint>
    </xacro:macro>
-->
  <!--
    <xacro:macro name="link_wheel" params="lr flipY">
        <link name="${lr}_wheel_link">
            <visual>
                <origin xyz="0 0 0" rpy="${flipY*M_PI/2} 0 0" />
                <geometry>
                    <cylinder radius="0.045" length="0.02"/>                    
                </geometry>
                <material name="black" />
            </visual>
            <cylinder_inertia m="10" r="${wheel_radius}" h="0.005"/>
            <collision>
                <origin xyz="0 0 0" rpy="${flipY*M_PI/2} 0 0" />
                <geometry>
                    <cylinder radius="${wheel_radius}" length="0.028" />
                </geometry>
            </collision>
        </link>
    </xacro:macro>
-->
  <!-- The physic engine does not accept a base_link with inertia. It is then useful to
       add a simple link without inertia and make a joint between it and the chassis
    -->
  <link name="base_footprint">
    <inertial>
      <mass value="0"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
  </link>
  <joint name="base_footprint_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.08"/>
    <parent link="base_footprint"/>
    <child link="base_link"/>
  </joint>
  <link name="base_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.07"/>
      </geometry>
      <material name="gold"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.07"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="4.0"/>
      <inertia ixx="0.00493333333333" ixy="0" ixz="0" iyy="0.00493333333333" iyz="0" izz="0.0098"/>
    </inertial>
  </link>
  <link name="left_wheel_link">
    <visual>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.035"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0 "/>
      <geometry>
        <cylinder length="0.01" radius="0.035"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.000157291666667" ixy="0" ixz="0" iyy="0.000157291666667" iyz="0" izz="0.00030625"/>
    </inertial>
  </link>
  <joint name="left_wheel_joint" type="continuous">
    <!-- axis defines the rotation axis of the joint wrt the parent frame -->
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <parent link="base_link"/>
    <child link="left_wheel_link"/>
    <origin rpy="0 0 0" xyz="0 0.0784 -0.04"/>
  </joint>
  <link name="right_wheel_link">
    <visual>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.035"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0 "/>
      <geometry>
        <cylinder length="0.01" radius="0.035"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.000157291666667" ixy="0" ixz="0" iyy="0.000157291666667" iyz="0" izz="0.00030625"/>
    </inertial>
  </link>
  <joint name="right_wheel_joint" type="continuous">
    <!-- axis defines the rotation axis of the joint wrt the parent frame -->
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <parent link="base_link"/>
    <child link="right_wheel_link"/>
    <origin rpy="0 0 0" xyz="0 -0.0784 -0.04"/>
  </joint>
  <link name="front_caster">
    <visual>
      <geometry>
        <sphere radius="0.0175"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.0175"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="1.225e-05" ixy="0.0" ixz="0.0" iyy="1.225e-05" iyz="0.0" izz="1.225e-05"/>
    </inertial>
  </link>
  <joint name="front_caster_joint" type="fixed">
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <parent link="base_link"/>
    <child link="front_caster"/>
    <origin rpy="0 0 0" xyz="0.0525 0 -0.0175"/>
  </joint>
  <!-- it will be easy to know which direction is front in rviz
  <xacro:caster prefix="rear" x_reflect="-1" />
  -->
  <link name="lidar_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.04" radius="0.03"/>
      </geometry>
      <material name="blue"/>
    </visual>
    <inertial>
      <mass value="0.125"/>
      <inertia ixx="4.47916666667e-05" ixy="0" ixz="0" iyy="4.47916666667e-05" iyz="0" izz="5.625e-05"/>
    </inertial>
  </link>
  <joint name="lidar_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.0175"/>
    <parent link="base_link"/>
    <child link="lidar_link"/>
  </joint>
  <link name="imu">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 0.02 0.001"/>
      </geometry>
      <material name="green"/>
    </visual>
  </link>
  <joint name="imu_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.035 0.03 0.01"/>
    <parent link="base_link"/>
    <child link="imu"/>
  </joint>
  <!-- 
    <link name="camera_link">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="${cameraSize} ${cameraSize} ${cameraSize}"/>
        </geometry>
      </collision>
    
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="${cameraSize} ${cameraSize} ${cameraSize}"/>
        </geometry>
        <material name="blue"/>
      </visual>    

      <xacro:box_inertia m="${cameraMass}" w="${cameraSize}" h="${cameraSize}" d="${cameraSize}" />
      
    </link>
  -->
</robot>

